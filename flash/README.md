# Flash

`Flash` is a distribution testing framework that is desinged to test whether the distribution generated by a given weighted-Horn-Sampler is epsilon-close to an ideal weighted-Horn-sampler or it is eta-far from an ideal weighted-Horn-sampler.


## Getting Started



To run with the parameter values used in the paper, copy a benchmark to codes directory and run ```flash```:



```

cp benchmarks/HornBench_1/Net6_count_91_w.cnf codes/

cd codes

python flash.py --eta 1.6 --epsilon 0.1 --delta 0.1 --sampler 1 --seed 42 Net6_count_91_w.cnf output

```

**IMPORTANT:** Before executing `flash.py` please ensure that you have copied the `samplers` directory into the `codes` directory. Please refer to the `README.md` of mother directory.  

For the command-



```

python flash.py --eta ETA --epsilon EPSILON --delta DELTA --sampler SAMPLER-TYPE --seed SEED mycnf.cnf OUTPUT

```



ETA takes values in (0,2),

EPSILON takes values in (0,0.33),

DELTA takes values in (0,0.5),

SEED takes integer values, and



SAMPLER-TYPE takes the following values:



* UniGen3 = 1

* QuickSampler = 2

* STS = 3


OUTPUT takes a filename to store output of flash


### Samplers used



In the "samplers" directory, you will find 64-bit x86 Linux compiled binaries for:



* UniGen3- an almost-uniform sampler

* Quick Sampler

* STS



### Benchmark Generation


To generate the weight function for the available benchmarks, use `genBench.py` using the command :



```

cd code

python genBench.py Net6_count_91.cnf --output Net6_count_91_w.cnf --nind 20 --seed 1

```

For the command-



```

python genBench.py mycnf.cnf --output output.cnf --nind nIND --seed SEED

```

nIND takes integer values from 0 to number of independent variables in mycnf.cnf. In case nIND isn't provided, `genBench.py` by default samples each independent variable with probability 1/3 and gives non-trivial weights to them.

SEED takes integer values.
